/** Storer.js (light)
NaN * @copyright Viafoura, Inc. <viafoura.com>
 * @author Shahyar G <github.com/shahyar> for <github.com/viafoura>
 * @license CC-BY 3.0 <creativecommons.org/licenses/by/3.0>: Keep @copyright, @author intact.
 */window.initStorer=function(a,b){"use strict";function c(a,b){var c={STORE_TYPE:"ref"+a,key:function(a){return b.key(a)},getItem:function(a){return b.getItem(a)},setItem:function(a,c){return b.setItem(a,c)},removeItem:function(a){return b.removeItem(a)},clear:function(){return b.clear()}};return Object.defineProperty(c,"length",{get:function(){return b.length}}),c}function d(a,b){var c=document.createElement("div");return c.STORE_TYPE="DOM"+a,c.key=b.key,c.getItem=b.getItem,c.setItem=b.setItem,c.removeItem=b.removeItem,c.clear=b.clear,Object.defineProperty(c,"length",{get:function(){return b.length}}),c}function e(a){a=(a||"")+m;var c=new RegExp("(?:^|;)\\s*"+a+"[^=]+\\s*=[^;]*","g"),d=new RegExp("^;?\\s*"+a),e=new RegExp("(?:^|;)\\s*[^=]+\\s*=[^;]*","g"),g=new RegExp("^;?\\s*"),h=new Date(1979).toGMTString(),i={STORE_TYPE:"cookieStorage",DEFAULT_DOMAIN:escape(b.default_domain||""),DEFAULT_PATH:escape(b.default_path||""),length:0,key:function(a,b){var c=this.getAll(!1,b);return c[0]?c[0].key:void 0},clear:function(a){for(var b=this.getAll(!1,a),c=b.length;c--;)this.removeItem(b[c].key)},getAll:function(a,b){var f,h=b?g:d,i=document.cookie.match(b?e:c)||[],j=i.length;if(a===!0)for(f={length:j};j--;)f[unescape((i[j]=i[j].split("="))[0].replace(h,""))]=i[j][1];else for(f=[];j--;)f.push({key:unescape((i[j]=i[j].split("="))[0].replace(h,"")),value:i[j][1]});return f},getItem:function(b,c){return b&&this.hasItem(b,c)?(c=document.cookie.match(new RegExp("(?:^|;) *"+escape((c?"":a)+b)+"=([^;]*)(?:;|$)")),c&&c[0]?unescape(c[1]):null):null},setItem:function(b,c,d,e,f,g,h){if(!b||"expires"===b||"max-age"===b||"path"===b||"domain"===b||"secure"===b)return!1;var k="";if(d)switch(typeof d){case"number":k="; max-age="+d;break;case"string":k="; expires="+d;break;case"object":d.hasOwnProperty("toGMTString")&&(k="; expires="+d.toGMTString())}return void 0!==c&&null!==c?(f=(f="string"==typeof f?escape(f):i.DEFAULT_DOMAIN)?"; domain="+f:"",e=(e="string"==typeof e?escape(e):i.DEFAULT_PATH)?"; path="+e:"",document.cookie=escape((h?"":a)+b)+"="+escape(c)+k+f+e+(g?"; secure":""),j(),!0):i.removeItem(b,f,e,g,h)},removeItem:function(b,c,d,e,f){return b&&this.hasItem(b,f)?(c=(c="string"==typeof c?escape(c):i.DEFAULT_DOMAIN)?"; domain="+c:"",d=(d="string"==typeof d?escape(d):i.DEFAULT_PATH)?"; path="+d:"",document.cookie=escape((f?"":a)+b)+"=; expires="+h+c+d+(e?"; secure":""),j(),!0):!1},hasItem:function(b,c){return new RegExp("(?:^|;) *"+escape((c?"":a)+b)+"=").test(document.cookie)}},j=function(){i.length=i.getAll().length};return i.setItem(k,4),4==i.getItem(k)?(i.removeItem(k),i):f()}function f(){var a={},b=[],c={},d={STORE_TYPE:"memoryStorage",length:0,key:function(a){return b[a]},getItem:function(b){return a[b]},setItem:function(e,f){return null!==f&&void 0!==f?(void 0===c[e]&&(c[e]=(d.length=b.push(e))-1),a[e]=f):d.removeItem(e)},removeItem:function(e){var f=void 0!==a[e];if(void 0!==c[e]){for(var g=b.length;--g>c[e];)c[b[g]]--;b.splice(c[e],1),delete c[e]}return delete a[e],d.length=b.length,f},clear:function(){for(var e in a)a.hasOwnProperty(e)&&delete a[e];d.length=b.length=0,c={}}};return d}var g,h,i,j,k="__SG__",l=window,m=(b="[object Object]"===Object.prototype.toString.call(a)?a:b||{}).prefix||"",n=b.no_cookie_fallback||!1,o=!0;b===a&&(a=null);try{for(;l!==l.top;)l=l.top}catch(p){}var q={cookieStorage:null,localStorage:null,memoryStorage:null,sessionStorage:null,_createCookieStorage:e,_createMemoryStorage:f};return q.cookieStorage=g=e(),q.memoryStorage=i=f(),q.sessionStorage=j=function(){var a=l.sessionStorage;if(a)try{a.setItem(k,1),a.removeItem(k);var b=function(){};b.prototype=a,b=new b;try{b.getItem&&(b.setItem(k,2),b.removeItem(k))}catch(e){b=null}a=b&&!b.getItem?d("sessionstorage",a):b&&"[object StoragePrototype]"!==Object.prototype.toString.apply(Storage.prototype)?b:c("sessionstorage",a)}catch(e){a=null}return a||a||(a=f()),a._getItem=a.getItem,a._setItem=a.setItem,a._removeItem=a.removeItem,a._key=a.key,a.getItem=function(b){return a._getItem(m+b)},a.setItem=function(b,c){return a._setItem(m+b,c)},a.removeItem=function(b){return a._removeItem(m+b)},a.key=function(b){return void 0!==(b=a._key(b))&&null!==b?0===b.indexOf(m)?b.substr(m.length):b:null},a.clear=function(){for(var b,c=a.length;c--;)0===(b=a._key(c)).indexOf(m)&&a._removeItem(b)},a}(),q.localStorage=h=function(){var a;if(l.localStorage||l.globalStorage)try{a=l.localStorage||l.globalStorage[location.hostname],a.setItem(k,1),a.removeItem(k);var b=function(){};b.prototype=a,b=new b;try{b.getItem&&(b.setItem(k,2),b.removeItem(k))}catch(g){b=null}a=b&&!b.getItem?d("localstorage",a):b&&"[object StoragePrototype]"!==Object.prototype.toString.apply(Storage.prototype)?b:c("localstorage",a)}catch(g){a=null}return a||(a=n?f():e()),m?(a._getItem=a.getItem,a._setItem=a.setItem,a._removeItem=a.removeItem,a._key=a.key,a.getItem=function(b){return a._getItem(m+b)},a.setItem=function(b,c){return a._setItem(m+b,c)},a.removeItem=function(b){return a._removeItem(m+b)},a.key=function(b){return void 0!==(b=a._key(b))&&null!==b?0===b.indexOf(m)?b.substr(m.length):b:null},a.clear=function(){for(var b,c=a.length;c--;)0===(b=a._key(c)).indexOf(m)&&a._removeItem(b)},a):a}(),o&&a&&a(q),q};